# SparkyFitness Fly.io Environment Variables
# ============================================
# Copy this file and fill in your values when deploying to Fly.io
#
# These are set via: flyctl secrets set KEY=value --app sparkyfitness-server
#
# DO NOT commit actual secrets to git!

# ===================
# DATABASE (Required)
# ===================
# These are auto-set when you run: flyctl postgres attach <db-name> --app sparkyfitness-server
DATABASE_URL=postgres://user:password@host:5432/dbname

# Alternative individual DB settings (used if DATABASE_URL parsing fails)
SPARKY_FITNESS_DB_HOST=sparkyfitness-db.flycast
SPARKY_FITNESS_DB_PORT=5432
SPARKY_FITNESS_DB_NAME=sparkyfitness
SPARKY_FITNESS_DB_USER=sparkyfitness
SPARKY_FITNESS_DB_PASSWORD=your-db-password
SPARKY_FITNESS_APP_DB_USER=sparkyfitness
SPARKY_FITNESS_APP_DB_PASSWORD=your-db-password

# ===================
# SECURITY (Required)
# ===================
# Generate with: openssl rand -hex 32
JWT_SECRET=your-64-character-hex-string-here
SPARKY_FITNESS_API_ENCRYPTION_KEY=your-64-character-hex-string-here

# Generate with: openssl rand -hex 16
ENCRYPTION_IV=your-32-character-hex-string-here

# ===================
# APP CONFIG (Required)
# ===================
SPARKY_FITNESS_FRONTEND_URL=https://sparkyfitness.fly.dev
SPARKY_FITNESS_ADMIN_EMAIL=your-email@example.com

# Set to "true" to enable email/password login (recommended for self-hosted)
SPARKY_FITNESS_FORCE_EMAIL_LOGIN=true

# ===================
# OPTIONAL SETTINGS
# ===================
# These are set in fly.toml [env] section, not as secrets:
# NODE_ENV=production
# SPARKY_FITNESS_SERVER_PORT=3010
# SPARKY_FITNESS_LOG_LEVEL=INFO
# TZ=Etc/UTC

# Set to "true" to disable new user registration (recommended for personal use)
# SPARKY_FITNESS_DISABLE_SIGNUP=true

# ===================
# FOOD/EXERCISE PROVIDERS
# ===================
# These are configured PER-USER in the app UI (Settings > External Providers)
# NOT as server environment variables. Each user adds their own API keys.
#
# Supported providers:
# - Open Food Facts: Free, no API key needed (but can be slow/unreliable)
# - USDA FoodData Central: Free, get key at https://fdc.nal.usda.gov/api-guide.html
# - Nutritionix: Free tier available, https://developer.nutritionix.com/
# - FatSecret: https://platform.fatsecret.com/
# - Wger (exercises): https://wger.de/en/software/api
